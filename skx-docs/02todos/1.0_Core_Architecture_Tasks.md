# 1.0 外部工具调用封装任务

**责任人**: Role C
**目标**: 实现对Deep Research和Code Scratch模块的黑盒调用封装

## 任务列表

### 1.1 创建外部集成目录结构
- [ ] 创建 `external_integration/` 目录（在项目根目录下）
  - [ ] `__init__.py` - 模块初始化文件
  - [ ] `deep_research_caller.py` - Deep Research调用器
  - [ ] `code_scratch_caller.py` - Code Scratch调用器
  - [ ] `prompt_injector.py` - Prompt注入器（后续任务）
  - [ ] `test_runner.py` - 测试运行器（后续任务）

### 1.2 实现Deep Research调用器
- [ ] 创建 `external_integration/deep_research_caller.py`
  - [ ] 定义 `DeepResearchCaller` 类
  - [ ] 实现 `run(query, output_dir)` 方法
  - [ ] 处理环境变量和配置传递
  - [ ] 实现错误处理和日志记录

### 1.3 实现Code Scratch调用器
- [ ] 创建 `external_integration/code_scratch_caller.py`
  - [ ] 定义 `CodeScratchCaller` 类
  - [ ] 实现 `run(prompt, work_dir)` 方法
  - [ ] 确保工作目录和文件路径正确设置
  - [ ] 实现环境隔离和资源管理

### 1.4 实现基础工具类
- [ ] 实现工具函数支持外部调用
  - [ ] 命令构建函数
  - [ ] 进程管理函数
  - [ ] 输出解析函数